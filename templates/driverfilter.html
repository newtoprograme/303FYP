{% include 'layout/mdb_head.html' %}

<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

<body>
	<br><br>
	<div class="container">
		<form method="post" action = "/uploader" enctype="multipart/form-data">
			<!-- Card -->
			<div class="card" id="step">
				<!-- Card content -->
				<div class="card-body">
					<!-- Text -->
					<p class="card-text">
						<h3><b>Step One:</b> License Plate Number </h3>
						<br> 
						<div class="progress">
							<div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" style="width:16%">

							</div>
						</div>
						<br>
						<br>
						<!-- Basic dropdown -->

						<input style="display: inline-block;" class="form-control" type="text" placeholder="Please input your car License Plate Number" name="plate_num" id="plate-num" required>
					</p>
					<!-- Button -->
					<a id="tr1-next" class="btn btn-primary">Next Page</a>
				</div>
			</div>

			<!-- Step 2 -->
			<div class="card" id="step2" style="display: none;">
				<!-- Card content -->
				<div class="card-body">

					<p class="card-text">

						<h3><b>Step Two :</b> Car Model  </h3>
						<div class="progress">
							<div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" style="width:32%">

							</div>
						</div>


						<br>
						<!-- Basic dropdown -->

						<input style="display: inline-block;" class="form-control" type="text" placeholder="Please input your Car Brand" name="car_brand" id="car-brand" required >
						<br>
						<br>
						<input style="display: inline-block;" class="form-control" type="text" placeholder="Please input your Car Model" name="car_model" id="car-model"  required>
					</p>
					<!-- Button -->
					<a class="btn btn-primary" id="tr2-back">Go back</a> <a id="tr2-next" class="btn btn-primary">Next Page</a>

				</div>
			</div>

			<!-- Step 3 -->
			<div class="card" id="step3" style="display: none;">
				<!-- Card content -->
				<div class="card-body">

					<p class="card-text">

						<h3><b>Step Three:</b>Car Capacity </h3>
						<div class="progress">
							<div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" style="width:48%">

							</div>
						</div>
						<br>
						<!-- Basic dropdown -->
						<!-- button class="btn btn-primary dropdown-toggle mr-4" type="button" data-toggle="dropdown"
							aria-haspopup="true" aria-expanded="false" id="district-text">Indicate your Car Capacity</button> -->
							<!-- <input name='car_capacity' id="district-id"> -->
							<div class="form-group">
								<label>Indicate your Car Capacity</label>
								<select multiple class="form-control" id="car-capacity" name="car_capacity">
									<option selected>1</option>
									<option>5</option>
									<option>8</option>
								</select>
							</div>

						<!-- <div class="dropdown-menu">
							<a class="dropdown-item district-selected"  data-text="1">1 passengers</a>
							<a class="dropdown-item district-selected" data-text="4">4 passengers</a>
							<a class="dropdown-item district-selected" data-text="7">7 passengers</a>
						</div> -->
					</p>
					<!-- Button -->
					<a class="btn btn-primary" id="tr3-back">Go back</a> <a id="tr3-next" class="btn btn-primary">Next Page</a>

				</div>
			</div>

			<!-- Step 4 -->
			<div class="card" id="step4" style="display: none;">
				<!-- Card content -->
				<div class="card-body">

					<p class="card-text">

						<h3><b>Step four:</b> Car Rules  </h3>
						<div class="progress">
							<div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" style="width:64%">

							</div>
						</div>
						<br>
						<!-- Basic dropdown -->
						<input style="display: inline-block;" class="form-control" name="car_rules" type="text" placeholder="Please use / to seperate rules" id="car-rules" required>
					</p>
					<!-- Button -->
					<a class="btn btn-primary" id="tr4-back">Go back</a> <a id="tr4-next" class="btn btn-primary">Next Page</a>

				</div>
			</div>
			<!-- Step 5 -->
			<div class="card" id="step5" style="display: none;">>
				<!-- Card content -->
				<div class="card-body">
					<!-- Text -->
					<p class="card-text">
						<h3><b>Step Five:</b> Drop Off location </h3>
						<br> 
						<div class="progress">
							<div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" style="width:80%">

							</div>
						</div>
						<br>
						<br>

						<!-- Basic dropdown -->
						<button class="btn btn-primary dropdown-toggle mr-4" type="button" data-toggle="dropdown"
						aria-haspopup="true" aria-expanded="false" id="district-text">Select District</button>
						<input type="hidden" id="district-id" name='district_id' value="">

						<div class="dropdown-menu">
							{% for i in data %}
							<a class="dropdown-item district-selected" data-id="{{ i[0] }}" data-text="{{ i[1] }}">{{ i[1] }}</a>
							{% endfor %}
						</div>
						<br><label></label>
						<!-- <input style="display: inline-block;" class="form-control" name="dropoff_location" type="text" placeholder="Please input the details of drop off location"> -->
					</p>
					<!-- Button -->
					<a class="btn btn-primary" id="tr5-back">Go back</a> <a id="tr5-next" class="btn btn-primary">Next Page</a>
				</div>
			</div>
			<!-- Step 6 -->
			<div class="card" id="step6" style="display: none;">
				<!-- Card content -->
				<div class="card-body">

					<p class="card-text">

						<h3><b>Step Six:</b>Picture of the Car </h3>
						<div class="progress">
							<div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" style="width:100%">

							</div>
						</div>
						<br>

						<form method="post" action = "/uploader" enctype="multipart/form-data">
							<p>Photo:</p>
							<input type="file" name="file"> 
							<br/>
							<!-- <input type="submit" name="upload" value="Add"/> -->

						</p>
						<!-- Button -->
						<a class="btn btn-primary" id="tr6-back">Go back</a> <button id="tr3_next" class="btn btn-primary" type="submit">Submit</button>

					</div>
				</div>

			</form>
		</div>


		<div style="height: 300px;"></div>

		<script type="text/javascript">
			$(document).ready(function(){


				$('#tr1-next').click( function() {
					var val = $("#plate-num").val();
					if (val != ""){
						$('#step2').css('display','block'); 
						$('#step').css('display','none'); 
					} 
				})

				$('#tr2-back').click( function() {
					$('#step2').css('display','none'); 
					$('#step').css('display','block'); 
				})

				$('#tr2-next').click(function(){
					var val = $("#car-brand").val();
					var val2 = $("#car-model").val();
					if (val != "" && val2 != "" ){
						$('#step2').css('display','none'); 
						$('#step3').css('display','block'); 
					}
				})

				$('#tr3-back').click(function(){
					$('#step2').css('display','block'); 
					$('#step3').css('display','none'); 
				})

				$('#tr3-next').click(function(){
					var val = $("#district-text").text();
					console.log(val);
					if (val != "" || typeof val !== "Indicate your Car Capacity"){
						console.log("sdfs");
						$('#step4').css('display','block'); 
						$('#step3').css('display','none'); 
					}
				})

				$('#tr4-back').click(function(){
					$('#step3').css('display','block'); 
					$('#step4').css('display','none'); 
				})

				$('#tr4-next').click(function(){
					var val = $("#car-rules").val();
					if (val != ""){
						$('#step5').css('display','block'); 
						$('#step4').css('display','none');
					} 
				})


				$('#tr5-back').click(function(){
					$('#step4').css('display','block'); 
					$('#step5').css('display','none'); 
				})

				$('#tr5-next').click(function(){
					$('#step6').css('display','block'); 
					$('#step5').css('display','none'); 
				})

				$('#tr6-back').click(function(){
					$('#step5').css('display','block'); 
					$('#step6').css('display','none'); 
				})



			$(".district-selected").click( function(){
				var district_txt = $(this).attr("data-text");
				$("#district-text").text(district_txt+' ');

				var district_id = $(this).attr("data-id");
				$("#district-id").val(district_id);
			})
			});
		</script>
	</body>

